#!/usr/bin/php
<?php
namespace Brain\Games\Cli;
 
$autoloadPath1 = __DIR__ . '/../../../autoload.php';
$autoloadPath2 = __DIR__ . '/../vendor/autoload.php';
if (file_exists($autoloadPath1)) {
    require_once $autoloadPath1;
} else {
    require_once $autoloadPath2;
}
use function cli\line;
use function cli\prompt;
line('Welcome to the Brain Game!');
$name = prompt('May I have your name?');
line("Hello, %s!", $name);
line('Answer "yes" if the number is even, otherwise answer "no".');

function Iseven()
{	
	global $name;
	$num = rand(0,99);
	line("Question: %s", $num);
	$answer = prompt('Your answer: ');

	if ($num % 2 === 0 && $answer === 'yes') {
		line('Correct!');
		return true;
	} elseif ($num % 2 !== 0 && $answer === 'no') {
		line('Correct!');
		return true;
	} elseif ($num % 2 === 0 && $answer !== 'yes') {
		line("'%s' is wrong answer ;(. Correct answer was 'yes'", $answer);
		line("Let's try again, %s!", $name);
		return false;
	} elseif ($num % 2 !== 0 && $answer !== 'no') {
		line ("'%s' is wrong answer ;(. Correct answer was 'no'", $answer);
		line("Let's try again, %s!", $name);
		return false;
	} 
}
function IsevenRepeat()
{	
	global $name;
	if (Iseven() === true) {
	Iseven() === true ? (Iseven() === true ? line("Congratulations, %s!", $name) : false) : false;
	} else {
	return false;
	}	
}
IsevenRepeat();
